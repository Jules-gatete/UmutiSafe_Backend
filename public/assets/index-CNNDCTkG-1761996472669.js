const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-Jk0JPl1f-1761996472669.js","assets/vendor_react-9x5ZZJiw-1761996472669.js","assets/vendor_misc-i1ZNofER-1761996472669.js","assets/Input-TsrCJ98U-1761996472669.js","assets/vendor_axios-ngrFHoWO-1761996472669.js","assets/Register-Cmo1oya--1761996472669.js","assets/NotFound-B49Zts1r-1761996472669.js","assets/Dashboard-CseQJXdd-1761996472669.js","assets/StatCard-Bx3y6EIC-1761996472669.js","assets/AddDisposal-DI6iTe1G-1761996472669.js","assets/Select-BOY8HrtR-1761996472669.js","assets/SearchBar-DRMifHhP-1761996472669.js","assets/DisposalHistory-B8vqVNoz-1761996472669.js","assets/Table-CzZgM5OE-1761996472669.js","assets/Modal-B7UfJj_u-1761996472669.js","assets/EducationTips-DWCgd_hF-1761996472669.js","assets/CHWInteraction-B4IV9h33-1761996472669.js","assets/Textarea-6EGELL80-1761996472669.js","assets/Profile-RrARaRoP-1761996472669.js","assets/CHWDashboard-1Q835twN-1761996472669.js","assets/PickupRequests-DcbIMpZI-1761996472669.js","assets/CHWProfile-D4uz22ZR-1761996472669.js","assets/AdminDashboard-CHYkjJWb-1761996472669.js","assets/vendor_recharts-rVBnes21-1761996472669.js","assets/ManageUsers-DcXOgb1H-1761996472669.js","assets/MedicinesRegistry-Dz-Qa7Am-1761996472669.js","assets/EducationTips-gsQpToa9-1761996472669.js","assets/SystemReports-_g44ldVa-1761996472669.js","assets/AdminDisposalsList-BWEbyrgO-1761996472669.js","assets/AdminDisposalInfo-DpwiUV59-1761996472669.js","assets/AdminProfile-9gFt6kP7-1761996472669.js"])))=>i.map(i=>d[i]);
import{r as i,j as t,S as M,M as H,u as z,c as F,L as A,B as V,C as B,U as y,d as q,e as L,f as J,H as _,g as W,h as G,i as b,k as v,T as K,l as Z,D as Q,m as X,F as Y,N as O,n as N,O as ee,o as te,p as c,q as se,s as ae}from"./vendor_react-9x5ZZJiw-1761996472669.js";import{a as E}from"./vendor_axios-ngrFHoWO-1761996472669.js";import"./vendor_misc-i1ZNofER-1761996472669.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();const P=()=>{if(typeof window>"u")return"light";const e=localStorage.getItem("umutisafe-theme");return e||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},D=e=>{typeof window>"u"||(localStorage.setItem("umutisafe-theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},re=()=>{const s=P()==="light"?"dark":"light";return D(s),s},ne=()=>{const e=P();D(e)};function oe(){const[e,s]=i.useState(!1);i.useEffect(()=>{s(P()==="dark")},[]);const r=()=>{const o=re();s(o==="dark")};return t.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-accent-cta","aria-label":`Switch to ${e?"light":"dark"} mode`,title:`Switch to ${e?"light":"dark"} mode`,children:e?t.jsx(M,{className:"w-5 h-5 text-yellow-400"}):t.jsx(H,{className:"w-5 h-5 text-gray-700"})})}const R="https://umutisafe-backend.onrender.com",j="http://localhost:5000",ie="/api/health",ce=1200;async function le(e){try{const s=new AbortController,r=setTimeout(()=>s.abort(),ce),o=await fetch(e+ie,{method:"GET",mode:"cors",signal:s.signal});return clearTimeout(r),o&&o.ok}catch{return!1}}let de=(async()=>await le(j)?(console.info("Using local backend:",j),j):(console.info("Falling back to remote backend:",R),R))();const ue="https://your-backend-will-go-here.onrender.com/api",I="https://mission-capstone.onrender.com",w="http://localhost:8000",pe=1200;async function me(e){const s=["/api/health","/health","/"];for(const r of s)try{const o=new AbortController,a=setTimeout(()=>o.abort(),pe),l=e.replace(/\/$/,"")+r,u=await fetch(l,{method:"GET",mode:"cors",signal:o.signal});if(clearTimeout(a),u&&u.ok)return console.info(`Model probe: ${l} OK`),!0}catch{}return!1}let T=(async()=>await me(w).catch(()=>!1)?(console.info("Using local model service:",w),w):(console.info("Falling back to configured model URL:",I),I.replace(/\/$/,"")))();const n=E.create({headers:{"Content-Type":"application/json"}});n.interceptors.request.use(async e=>{if(!e.baseURL){const r=await de.catch(()=>null)||ue;/\/api\/?$/.test(r)?e.baseURL=r.replace(/\/$/,""):e.baseURL=r.replace(/\/$/,"")+"/api"}try{const s=localStorage.getItem("token");s&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${s}`)}catch{}return e},e=>Promise.reject(e));n.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)));const ge={register:async e=>(await n.post("/auth/register",e)).data,login:async(e,s)=>{const r=await n.post("/auth/login",{email:e,password:s});return r.data.success&&r.data.data.token&&(localStorage.setItem("token",r.data.data.token),localStorage.setItem("user",JSON.stringify(r.data.data.user))),r.data},getMe:async()=>(await n.get("/auth/me")).data,updateProfile:async e=>(await n.put("/auth/profile",e)).data,changePassword:async(e,s)=>(await n.put("/auth/change-password",{currentPassword:e,newPassword:s})).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")}},Je={getAll:async(e={})=>(await n.get("/medicines",{params:e})).data,getById:async e=>(await n.get(`/medicines/${e}`)).data,search:async e=>(await n.get(`/medicines/search?q=${e}`)).data,create:async e=>(await n.post("/medicines",e)).data,update:async(e,s)=>(await n.put(`/medicines/${e}`,s)).data,delete:async e=>(await n.delete(`/medicines/${e}`)).data,predictFromText:async e=>{try{const s=new URLSearchParams;s.append("generic_name",e.genericName||e.generic_name||""),s.append("brand_name",e.brandName||e.brand_name||""),s.append("dosage_form",e.dosageForm||e.dosage_form||""),s.append("packaging_type",e.packagingType||e.packaging_type||"");const r=await T||w,a=(await E.post(`${r.replace(/\/$/,"")}/api/predict/text`,s.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data;return{success:!0,data:{success:!!a.success,ocr_text:{medicine_name:a.ocr_info?.extracted_info?.generic_name||a.medicine_info?.generic_name||"",brand_name:a.ocr_info?.extracted_info?.brand_name||a.medicine_info?.brand_name||""},predicted_category:a.predictions?.disposal_category||a.safety_guidance?.category_name||"",risk_level:a.predictions?.risk_level||a.safety_guidance?.risk_level||"",confidence:typeof a.predictions?.confidence=="number"?a.predictions.confidence:a.predictions?.all_probabilities?.["1"]||0,disposal_guidance:a.safety_guidance?.procedure||a.safety_guidance?.prohibitions||"",safety_notes:a.safety_guidance?.special_instructions||a.safety_guidance?.risks||"",ocr_info:a.ocr_info||null,medicine_info:a.medicine_info||null,predictions:a.predictions||null,safety_guidance:a.safety_guidance||null}}}catch(s){const r=s?.response?.data,o=typeof r=="string"?r:r&&r.detail||JSON.stringify(r)||s.message||"Unknown error";return console.error("predictFromText error",o),{success:!1,error:o}}},predictFromImage:async e=>{const s=new FormData;s.append("file",e);try{const r=await T||w,a=(await E.post(`${r.replace(/\/$/,"")}/api/predict/image`,s,{headers:{"Content-Type":"multipart/form-data"}})).data;return{success:!0,data:{success:!!a.success,ocr_text:{medicine_name:a.ocr_info?.extracted_info?.generic_name||a.medicine_info?.generic_name||"",brand_name:a.ocr_info?.extracted_info?.brand_name||a.medicine_info?.brand_name||""},predicted_category:a.predictions?.disposal_category||a.safety_guidance?.category_name||"",risk_level:a.predictions?.risk_level||a.safety_guidance?.risk_level||"",confidence:typeof a.predictions?.confidence=="number"?a.predictions.confidence:a.predictions?.all_probabilities?.["1"]||0,disposal_guidance:a.safety_guidance?.procedure||a.safety_guidance?.prohibitions||"",safety_notes:a.safety_guidance?.special_instructions||a.safety_guidance?.risks||"",ocr_info:a.ocr_info||null,medicine_info:a.medicine_info||null,predictions:a.predictions||null,safety_guidance:a.safety_guidance||null}}}catch(r){const o=r?.response?.data,a=typeof o=="string"?o:o&&o.detail||JSON.stringify(o)||r.message||"Unknown error";return console.error("predictFromImage error",a),{success:!1,error:a}}}},We={getAll:async(e={})=>(await n.get("/disposals",{params:e})).data,getById:async e=>(await n.get(`/disposals/${e}`)).data,create:async e=>{if(e.file){const r=new FormData;return Object.keys(e).forEach(a=>{if(a==="file")return r.append("image",e.file);e[a]!==void 0&&e[a]!==null&&r.append(a,e[a])}),(await n.post("/disposals",r,{headers:{"Content-Type":"multipart/form-data"}})).data}return(await n.post("/disposals",e)).data},update:async(e,s)=>(await n.put(`/disposals/${e}`,s)).data,delete:async e=>(await n.delete(`/disposals/${e}`)).data,requestPickup:async(e,s)=>(await n.post(`/disposals/${e}/request-pickup`,s)).data},Ge={getAll:async(e={})=>(await n.get("/pickups",{params:e})).data,getById:async e=>(await n.get(`/pickups/${e}`)).data,create:async e=>(await n.post("/pickups",e)).data,update:async(e,s)=>(await n.put(`/pickups/${e}`,s)).data,accept:async e=>(await n.put(`/pickups/${e}/accept`)).data,complete:async(e,s)=>(await n.put(`/pickups/${e}/complete`,{notes:s})).data,cancel:async(e,s)=>(await n.put(`/pickups/${e}/cancel`,{reason:s})).data,updateStatus:async(e,s)=>(await n.put(`/pickups/${e}/status`,s)).data},Ke={getAvailable:async()=>(await n.get("/chws/nearby")).data,getAll:async(e={})=>(await n.get("/chws",{params:e})).data,getById:async e=>(await n.get(`/chws/${e}`)).data,getDashboard:async()=>(await n.get("/pickups/chw/stats")).data,updateAvailability:async e=>(await n.put("/chws/availability",{availability:e})).data,getPickups:async(e={})=>(await n.get("/pickups/chw",{params:e})).data},Ze={getAll:async()=>(await n.get("/education")).data,getById:async e=>(await n.get(`/education/${e}`)).data,create:async e=>(await n.post("/education",e)).data,update:async(e,s)=>(await n.put(`/education/${e}`,s)).data,delete:async e=>(await n.delete(`/education/${e}`)).data},Qe={getStats:async()=>(await n.get("/admin/stats")).data,getUsers:async(e={})=>(await n.get("/admin/users",{params:e})).data,getPendingUsers:async()=>(await n.get("/admin/users/pending")).data,approveUser:async e=>(await n.put(`/admin/users/${e}/approve`)).data,rejectUser:async e=>(await n.put(`/admin/users/${e}/reject`)).data,updateUser:async(e,s)=>(await n.put(`/admin/users/${e}`,s)).data,deleteUser:async e=>(await n.delete(`/admin/users/${e}`)).data,activateUser:async e=>(await n.put(`/admin/users/${e}/activate`)).data,deactivateUser:async e=>(await n.put(`/admin/users/${e}/deactivate`)).data,getDisposals:async(e={})=>(await n.get("/admin/disposals",{params:e})).data,getDisposalById:async e=>(await n.get(`/admin/disposals/${e}`)).data,getPickups:async(e={})=>(await n.get("/admin/pickups",{params:e})).data},he="data:image/svg+xml,%3csvg%20width='120'%20height='120'%20viewBox='0%200%20120%20120'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='120'%20height='120'%20rx='24'%20fill='%230B6FA7'/%3e%3cpath%20d='M60%2025C43.4315%2025%2030%2038.4315%2030%2055V65C30%2081.5685%2043.4315%2095%2060%2095C76.5685%2095%2090%2081.5685%2090%2065V55C90%2038.4315%2076.5685%2025%2060%2025Z'%20fill='%232E8B57'/%3e%3cpath%20d='M50%2045C50%2041.6863%2052.6863%2039%2056%2039H64C67.3137%2039%2070%2041.6863%2070%2045V75C70%2078.3137%2067.3137%2081%2064%2081H56C52.6863%2081%2050%2078.3137%2050%2075V45Z'%20fill='white'/%3e%3crect%20x='45'%20y='55'%20width='30'%20height='6'%20rx='3'%20fill='%2319A3FF'/%3e%3ccircle%20cx='60'%20cy='47'%20r='3'%20fill='%2319A3FF'/%3e%3ccircle%20cx='60'%20cy='73'%20r='3'%20fill='%2319A3FF'/%3e%3cpath%20d='M40%2060L48%2052M80%2060L72%2052'%20stroke='white'%20stroke-width='4'%20stroke-linecap='round'/%3e%3c/svg%3e";function fe({onMenuClick:e}){const s=z(),[r,o]=i.useState(!1),a=JSON.parse(localStorage.getItem("user")||"null"),l=()=>{ge.logout(),s("/login")},u={user:"Household",chw:"CHW",admin:"Admin"};return a?t.jsx("nav",{className:"sticky top-0 z-40 bg-surface-light dark:bg-surface-dark border-b border-gray-200 dark:border-gray-700 shadow-sm",children:t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-cta min-w-[44px] min-h-[44px]","aria-label":"Toggle menu",title:"Toggle sidebar",children:t.jsx(F,{className:"w-6 h-6"})}),t.jsxs(A,{to:"/",className:"flex items-center gap-3 group",children:[t.jsx("img",{src:he,alt:"UmutiSafe Logo",className:"w-10 h-10"}),t.jsxs("div",{className:"hidden sm:block",children:[t.jsx("h1",{className:"text-xl font-bold text-primary-blue dark:text-accent-cta group-hover:text-primary-green transition-colors",children:"UmutiSafe"}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Safe Medicine Disposal"})]})]}),t.jsx("div",{className:"hidden md:flex flex-1 max-w-lg"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 min-h-[44px]",children:t.jsx("span",{className:"text-sm font-medium",children:u[a.role]})}),t.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-accent-cta min-w-[44px] min-h-[44px]","aria-label":"Notifications",children:[t.jsx(V,{className:"w-5 h-5"}),t.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-warning rounded-full"})]}),t.jsx(oe,{}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>o(!r),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-accent-cta min-h-[44px]","aria-label":"User menu","aria-expanded":r,children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-blue text-white flex items-center justify-center font-semibold text-sm",children:a.name.charAt(0).toUpperCase()}),t.jsx(B,{className:"w-4 h-4 hidden sm:block"})]}),r&&t.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-surface-light dark:bg-surface-dark rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"font-semibold text-sm",children:a.name}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a.email})]}),t.jsxs(A,{to:`/${a.role}/profile`,className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm",onClick:()=>o(!1),children:[t.jsx(y,{className:"w-4 h-4"}),"Profile"]}),t.jsxs("button",{onClick:l,className:"flex items-center gap-2 w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm text-red-600 dark:text-red-400",children:[t.jsx(q,{className:"w-4 h-4"}),"Logout"]})]})]})]})]}),t.jsx("div",{className:"md:hidden mt-3"})]})}):null}function xe({isOpen:e,onClose:s}){const r=L(),[o,a]=i.useState("user");i.useEffect(()=>{const g=JSON.parse(localStorage.getItem("user")||"null");a(g?.role||"user")},[r]);const x=o==="user"?[{to:"/user",icon:_,label:"Dashboard",end:!0},{to:"/user/add-disposal",icon:W,label:"New Disposal"},{to:"/user/history",icon:G,label:"History"},{to:"/user/chw-interaction",icon:b,label:"CHW Pickup"},{to:"/user/education",icon:v,label:"Education"},{to:"/user/profile",icon:y,label:"Profile"}]:o==="chw"?[{to:"/chw",icon:_,label:"Dashboard",end:!0},{to:"/chw/pickup-requests",icon:K,label:"Pickup Requests"},{to:"/chw/profile",icon:y,label:"Profile"}]:[{to:"/admin",icon:_,label:"Dashboard",end:!0},{to:"/admin/disposals",icon:Z,label:"Disposals"},{to:"/admin/users",icon:b,label:"Manage Users"},{to:"/admin/medicines",icon:Q,label:"Medicines Registry"},{to:"/admin/education",icon:X,label:"Education Tips"},{to:"/admin/reports",icon:Y,label:"System Reports"}],m=75;return t.jsxs(t.Fragment,{children:[e&&t.jsx("div",{className:"fixed left-0 right-0 bg-black bg-opacity-50 z-30",onClick:s,"aria-hidden":"true",style:{top:`${m}px`,height:`calc(100vh - ${m}px)`}}),t.jsxs("aside",{className:`fixed left-0 bg-surface-light dark:bg-surface-dark border-r border-gray-200 dark:border-gray-700 transition-transform duration-300 ${e?"translate-x-0":"-translate-x-full"} w-64 flex flex-col z-30`,style:{top:`${m}px`,height:`calc(100vh - ${m}px)`},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Menu"}),t.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-cta","aria-label":"Close menu",title:"Close sidebar",children:t.jsx(J,{className:"w-5 h-5"})})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-4","aria-label":"Main navigation",children:t.jsx("ul",{className:"space-y-2",children:x.map(g=>t.jsx("li",{children:t.jsx(O,{to:g.to,end:g.end,onClick:()=>s(),className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 min-h-[44px] ${h?"bg-primary-blue text-white dark:bg-accent-cta":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"} focus:outline-none focus:ring-2 focus:ring-accent-cta`,children:({isActive:h})=>t.jsxs(t.Fragment,{children:[t.jsx(g.icon,{className:`w-5 h-5 ${h?"text-white":""}`,"aria-hidden":"true"}),t.jsx("span",{className:"font-medium",children:g.label})]})})},g.to))})}),t.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"card bg-primary-blue bg-opacity-10 dark:bg-accent-cta dark:bg-opacity-10",children:[t.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Need Help?"}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:"Contact your local CHW or call the helpline"}),t.jsx("a",{href:"tel:+250788000000",className:"text-xs text-primary-blue dark:text-accent-cta hover:underline font-medium",children:"+250 788 000 000"})]})})]})]})}function ye(){const e=L(),[s,r]=i.useState("user");i.useEffect(()=>{const p=JSON.parse(localStorage.getItem("user")||"null");r(p?.role||"user")},[e]);const u=s==="user"?[{to:"/user",icon:_,label:"Home"},{to:"/user/chw-interaction",icon:b,label:"CHW"},{to:"/user/education",icon:v,label:"Guide"},{to:"/user/profile",icon:y,label:"Profile"}]:s==="chw"?[{to:"/chw",icon:_,label:"Home"},{to:"/chw/pickup-requests",icon:b,label:"Pickups"},{to:"/chw/profile",icon:y,label:"Profile"}]:[{to:"/admin",icon:_,label:"Home"},{to:"/admin/users",icon:b,label:"Users"},{to:"/admin/medicines",icon:v,label:"Meds"},{to:"/admin/reports",icon:y,label:"Reports"}];return t.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-surface-light dark:bg-surface-dark border-t border-gray-200 dark:border-gray-700 shadow-lg","aria-label":"Bottom navigation",children:t.jsx("ul",{className:"flex justify-around items-center h-16",children:u.map(p=>t.jsx("li",{className:"flex-1",children:t.jsx(O,{to:p.to,className:({isActive:x})=>`flex flex-col items-center justify-center h-full gap-1 transition-colors min-h-[44px] min-w-[44px] ${x?"text-primary-blue dark:text-accent-cta":"text-gray-600 dark:text-gray-400"}`,children:({isActive:x})=>t.jsxs(t.Fragment,{children:[t.jsx(p.icon,{className:`w-6 h-6 ${x?"text-primary-blue dark:text-accent-cta":""}`,"aria-hidden":"true"}),t.jsx("span",{className:"text-xs font-medium",children:p.label})]})})},p.to))})})}const _e="modulepreload",be=function(e){return"/"+e},S={},d=function(s,r,o){let a=Promise.resolve();if(r&&r.length>0){let x=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=u?.nonce||u?.getAttribute("nonce");a=x(r.map(m=>{if(m=be(m),m in S)return;S[m]=!0;const g=m.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const f=document.createElement("link");if(f.rel=g?"stylesheet":_e,g||(f.as="script"),f.crossOrigin="",f.href=m,p&&f.setAttribute("nonce",p),document.head.appendChild(f),g)return new Promise((C,U)=>{f.addEventListener("load",C),f.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u}return a.then(u=>{for(const p of u||[])p.status==="rejected"&&l(p.reason);return s().catch(l)})};function k({allowedRoles:e=[]}){const s=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user")||"null");return!s||!r?t.jsx(N,{to:"/login",replace:!0}):e.length>0&&!e.includes(r.role)?t.jsx(N,{to:`/${r.role}`,replace:!0}):t.jsx(ee,{})}const we=i.lazy(()=>d(()=>import("./Login-Jk0JPl1f-1761996472669.js"),__vite__mapDeps([0,1,2,3,4]))),je=i.lazy(()=>d(()=>import("./Register-Cmo1oya--1761996472669.js"),__vite__mapDeps([5,1,2,3,4]))),ke=i.lazy(()=>d(()=>import("./NotFound-B49Zts1r-1761996472669.js"),__vite__mapDeps([6,1,2]))),ve=i.lazy(()=>d(()=>import("./Dashboard-CseQJXdd-1761996472669.js"),__vite__mapDeps([7,1,2,8,4]))),Ne=i.lazy(()=>d(()=>import("./AddDisposal-DI6iTe1G-1761996472669.js"),__vite__mapDeps([9,1,2,3,10,11,4]))),Ee=i.lazy(()=>d(()=>import("./DisposalHistory-B8vqVNoz-1761996472669.js"),__vite__mapDeps([12,1,2,13,14,4]))),Le=i.lazy(()=>d(()=>import("./EducationTips-DWCgd_hF-1761996472669.js"),__vite__mapDeps([15,1,2,4]))),Pe=i.lazy(()=>d(()=>import("./CHWInteraction-B4IV9h33-1761996472669.js"),__vite__mapDeps([16,1,2,3,17,10,13,11,4]))),Ae=i.lazy(()=>d(()=>import("./Profile-RrARaRoP-1761996472669.js"),__vite__mapDeps([18,1,2,3,4]))),Re=i.lazy(()=>d(()=>import("./CHWDashboard-1Q835twN-1761996472669.js"),__vite__mapDeps([19,1,2,8,11,4]))),Ie=i.lazy(()=>d(()=>import("./PickupRequests-DcbIMpZI-1761996472669.js"),__vite__mapDeps([20,1,2,13,14,10,17,11,4]))),Te=i.lazy(()=>d(()=>import("./CHWProfile-D4uz22ZR-1761996472669.js"),__vite__mapDeps([21,1,2,3,4]))),Se=i.lazy(()=>d(()=>import("./AdminDashboard-CHYkjJWb-1761996472669.js"),__vite__mapDeps([22,1,2,8,23,4]))),$e=i.lazy(()=>d(()=>import("./ManageUsers-DcXOgb1H-1761996472669.js"),__vite__mapDeps([24,1,2,13,14,3,10,4]))),Oe=i.lazy(()=>d(()=>import("./MedicinesRegistry-Dz-Qa7Am-1761996472669.js"),__vite__mapDeps([25,1,2,13,14,3,10,17,4]))),De=i.lazy(()=>d(()=>import("./EducationTips-gsQpToa9-1761996472669.js"),__vite__mapDeps([26,1,2,13,14,3,10,17,4]))),Ce=i.lazy(()=>d(()=>import("./SystemReports-_g44ldVa-1761996472669.js"),__vite__mapDeps([27,1,2,3]))),Ue=i.lazy(()=>d(()=>import("./AdminDisposalsList-BWEbyrgO-1761996472669.js"),__vite__mapDeps([28,1,2,13,4]))),Me=i.lazy(()=>d(()=>import("./AdminDisposalInfo-DpwiUV59-1761996472669.js"),__vite__mapDeps([29,1,2,4]))),He=i.lazy(()=>d(()=>import("./AdminProfile-9gFt6kP7-1761996472669.js"),__vite__mapDeps([30,1,2,4])));function $(){const e=JSON.parse(localStorage.getItem("user")||"null"),s=!!localStorage.getItem("token");return t.jsx(i.Suspense,{fallback:t.jsx("div",{className:"p-6",children:"Loading..."}),children:t.jsxs(te,{children:[t.jsx(c,{path:"/login",element:t.jsx(we,{})}),t.jsx(c,{path:"/register",element:t.jsx(je,{})}),t.jsx(c,{path:"/",element:t.jsx(N,{to:s&&e?`/${e.role}`:"/login",replace:!0})}),t.jsxs(c,{path:"/user",element:t.jsx(k,{allowedRoles:["user"]}),children:[t.jsx(c,{index:!0,element:t.jsx(ve,{})}),t.jsx(c,{path:"add-disposal",element:t.jsx(Ne,{})}),t.jsx(c,{path:"history",element:t.jsx(Ee,{})}),t.jsx(c,{path:"education",element:t.jsx(Le,{})}),t.jsx(c,{path:"chw-interaction",element:t.jsx(Pe,{})}),t.jsx(c,{path:"profile",element:t.jsx(Ae,{})})]}),t.jsxs(c,{path:"/chw",element:t.jsx(k,{allowedRoles:["chw"]}),children:[t.jsx(c,{index:!0,element:t.jsx(Re,{})}),t.jsx(c,{path:"pickup-requests",element:t.jsx(Ie,{})}),t.jsx(c,{path:"profile",element:t.jsx(Te,{})})]}),t.jsxs(c,{path:"/admin",element:t.jsx(k,{allowedRoles:["admin"]}),children:[t.jsx(c,{index:!0,element:t.jsx(Se,{})}),t.jsx(c,{path:"profile",element:t.jsx(He,{})}),t.jsx(c,{path:"disposals",element:t.jsx(Ue,{})}),t.jsx(c,{path:"disposals/:id",element:t.jsx(Me,{})}),t.jsx(c,{path:"users",element:t.jsx($e,{})}),t.jsx(c,{path:"medicines",element:t.jsx(Oe,{})}),t.jsx(c,{path:"education",element:t.jsx(De,{})}),t.jsx(c,{path:"reports",element:t.jsx(Ce,{})})]}),t.jsx(c,{path:"*",element:t.jsx(ke,{})})]})})}function ze(){const[e,s]=i.useState(!1),r=L();i.useEffect(()=>{ne()},[]);const o=r.pathname==="/login",a=r.pathname==="/register";return o||a?t.jsx($,{}):t.jsxs("div",{className:"min-h-screen flex flex-col",children:[t.jsx(fe,{onMenuClick:()=>s(!e)}),t.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[t.jsx(xe,{isOpen:e,onClose:()=>s(!1)}),t.jsx("main",{className:"flex-1 overflow-y-auto",children:t.jsx($,{})})]}),t.jsx(ye,{})]})}function Fe(){return t.jsx(se,{children:t.jsx(ze,{})})}ae.createRoot(document.getElementById("root")).render(t.jsx(i.StrictMode,{children:t.jsx(Fe,{})}));export{ge as a,Qe as b,Ke as c,We as d,Ze as e,n as f,he as l,Je as m,Ge as p};
