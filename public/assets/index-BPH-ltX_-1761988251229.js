const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-z9rC6yzj-1761988251229.js","assets/vendor_react-CK1M0B1O-1761988251229.js","assets/vendor_misc-i1ZNofER-1761988251229.js","assets/Input-BvYti0rl-1761988251229.js","assets/vendor_axios-ngrFHoWO-1761988251229.js","assets/Register-BG9EQODk-1761988251229.js","assets/NotFound-C-FPk5SL-1761988251229.js","assets/Dashboard-DW3kPMax-1761988251229.js","assets/StatCard-CgnDAUhE-1761988251229.js","assets/AddDisposal-BMfRFZjK-1761988251229.js","assets/Select-BAMn-yuu-1761988251229.js","assets/SearchBar-CXNO1-4Y-1761988251229.js","assets/DisposalHistory-B6kwLofd-1761988251229.js","assets/Table-p0UcKWoY-1761988251229.js","assets/Modal-D3WPayf--1761988251229.js","assets/EducationTips-C2h2rDIz-1761988251229.js","assets/CHWInteraction-BSLCXVNV-1761988251229.js","assets/Textarea-DSLkmD4_-1761988251229.js","assets/Profile-2cz3bR0E-1761988251229.js","assets/CHWDashboard-DdW5z9Ix-1761988251229.js","assets/PickupRequests-BhTE9pRk-1761988251229.js","assets/CHWProfile-Bynpkto7-1761988251229.js","assets/AdminDashboard-D5P3DKY2-1761988251229.js","assets/vendor_recharts-DG9pkQlQ-1761988251229.js","assets/ManageUsers-BwKFOgNY-1761988251229.js","assets/MedicinesRegistry-w3-oXm31-1761988251229.js","assets/EducationTips-DNcftuZQ-1761988251229.js","assets/SystemReports-DboN-nBY-1761988251229.js","assets/AdminDisposalsList-C03UCo-s-1761988251229.js","assets/AdminDisposalInfo-BuK7GjQG-1761988251229.js","assets/AdminProfile-DGhdNpaZ-1761988251229.js"])))=>i.map(i=>d[i]);
import{r as i,j as s,S as D,M as C,u as O,c as U,L as P,B as z,C as M,U as y,d as V,e as N,f as F,H as _,g as H,h as B,i as b,k as j,T as q,l as W,D as J,m as G,F as Z,N as S,n as k,O as K,o as Q,p as c,q as X,s as Y}from"./vendor_react-CK1M0B1O-1761988251229.js";import{a as v}from"./vendor_axios-ngrFHoWO-1761988251229.js";import"./vendor_misc-i1ZNofER-1761988251229.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(o){if(o.ep)return;o.ep=!0;const d=n(o);fetch(o.href,d)}})();const E=()=>{if(typeof window>"u")return"light";const e=localStorage.getItem("umutisafe-theme");return e||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},R=e=>{typeof window>"u"||(localStorage.setItem("umutisafe-theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},ee=()=>{const t=E()==="light"?"dark":"light";return R(t),t},se=()=>{const e=E();R(e)};function te(){const[e,t]=i.useState(!1);i.useEffect(()=>{t(E()==="dark")},[]);const n=()=>{const a=ee();t(a==="dark")};return s.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-accent-cta","aria-label":`Switch to ${e?"light":"dark"} mode`,title:`Switch to ${e?"light":"dark"} mode`,children:e?s.jsx(D,{className:"w-5 h-5 text-yellow-400"}):s.jsx(C,{className:"w-5 h-5 text-gray-700"})})}const ae="https://your-backend-will-go-here.onrender.com/api",L="https://mission-capstone.onrender.com",r=v.create({baseURL:ae,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));r.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)));const re={register:async e=>(await r.post("/auth/register",e)).data,login:async(e,t)=>{const n=await r.post("/auth/login",{email:e,password:t});return n.data.success&&n.data.data.token&&(localStorage.setItem("token",n.data.data.token),localStorage.setItem("user",JSON.stringify(n.data.data.user))),n.data},getMe:async()=>(await r.get("/auth/me")).data,updateProfile:async e=>(await r.put("/auth/profile",e)).data,changePassword:async(e,t)=>(await r.put("/auth/change-password",{currentPassword:e,newPassword:t})).data,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")}},Ce={getAll:async(e={})=>(await r.get("/medicines",{params:e})).data,getById:async e=>(await r.get(`/medicines/${e}`)).data,search:async e=>(await r.get(`/medicines/search?q=${e}`)).data,create:async e=>(await r.post("/medicines",e)).data,update:async(e,t)=>(await r.put(`/medicines/${e}`,t)).data,delete:async e=>(await r.delete(`/medicines/${e}`)).data,predictFromText:async e=>{try{const t=new URLSearchParams;t.append("generic_name",e.genericName||e.generic_name||""),t.append("brand_name",e.brandName||e.brand_name||""),t.append("dosage_form",e.dosageForm||e.dosage_form||""),t.append("packaging_type",e.packagingType||e.packaging_type||"");const a=(await v.post(`${L}/api/predict/text`,t.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data;return{success:!0,data:{success:!!a.success,ocr_text:{medicine_name:a.ocr_info?.extracted_info?.generic_name||a.medicine_info?.generic_name||"",brand_name:a.ocr_info?.extracted_info?.brand_name||a.medicine_info?.brand_name||""},predicted_category:a.predictions?.disposal_category||a.safety_guidance?.category_name||"",risk_level:a.predictions?.risk_level||a.safety_guidance?.risk_level||"",confidence:typeof a.predictions?.confidence=="number"?a.predictions.confidence:a.predictions?.all_probabilities?.["1"]||0,disposal_guidance:a.safety_guidance?.procedure||a.safety_guidance?.prohibitions||"",safety_notes:a.safety_guidance?.special_instructions||a.safety_guidance?.risks||"",ocr_info:a.ocr_info||null,medicine_info:a.medicine_info||null,predictions:a.predictions||null,safety_guidance:a.safety_guidance||null}}}catch(t){return console.error("predictFromText error",t?.response?.data||t.message||t),{success:!1,error:t?.response?.data||t.message}}},predictFromImage:async e=>{const t=new FormData;t.append("file",e);try{const a=(await v.post(`${L}/api/predict/image`,t,{headers:{"Content-Type":"multipart/form-data"}})).data;return{success:!0,data:{success:!!a.success,ocr_text:{medicine_name:a.ocr_info?.extracted_info?.generic_name||a.medicine_info?.generic_name||"",brand_name:a.ocr_info?.extracted_info?.brand_name||a.medicine_info?.brand_name||""},predicted_category:a.predictions?.disposal_category||a.safety_guidance?.category_name||"",risk_level:a.predictions?.risk_level||a.safety_guidance?.risk_level||"",confidence:typeof a.predictions?.confidence=="number"?a.predictions.confidence:a.predictions?.all_probabilities?.["1"]||0,disposal_guidance:a.safety_guidance?.procedure||a.safety_guidance?.prohibitions||"",safety_notes:a.safety_guidance?.special_instructions||a.safety_guidance?.risks||"",ocr_info:a.ocr_info||null,medicine_info:a.medicine_info||null,predictions:a.predictions||null,safety_guidance:a.safety_guidance||null}}}catch(n){return console.error("predictFromImage error",n?.response?.data||n.message||n),{success:!1,error:n?.response?.data||n.message}}}},Oe={getAll:async(e={})=>(await r.get("/disposals",{params:e})).data,getById:async e=>(await r.get(`/disposals/${e}`)).data,create:async e=>{if(e.file){const n=new FormData;return Object.keys(e).forEach(o=>{if(o==="file")return n.append("image",e.file);e[o]!==void 0&&e[o]!==null&&n.append(o,e[o])}),(await r.post("/disposals",n,{headers:{"Content-Type":"multipart/form-data"}})).data}return(await r.post("/disposals",e)).data},update:async(e,t)=>(await r.put(`/disposals/${e}`,t)).data,delete:async e=>(await r.delete(`/disposals/${e}`)).data,requestPickup:async(e,t)=>(await r.post(`/disposals/${e}/request-pickup`,t)).data},Ue={getAll:async(e={})=>(await r.get("/pickups",{params:e})).data,getById:async e=>(await r.get(`/pickups/${e}`)).data,create:async e=>(await r.post("/pickups",e)).data,update:async(e,t)=>(await r.put(`/pickups/${e}`,t)).data,accept:async e=>(await r.put(`/pickups/${e}/accept`)).data,complete:async(e,t)=>(await r.put(`/pickups/${e}/complete`,{notes:t})).data,cancel:async(e,t)=>(await r.put(`/pickups/${e}/cancel`,{reason:t})).data,updateStatus:async(e,t)=>(await r.put(`/pickups/${e}/status`,t)).data},ze={getAvailable:async()=>(await r.get("/chws/nearby")).data,getAll:async(e={})=>(await r.get("/chws",{params:e})).data,getById:async e=>(await r.get(`/chws/${e}`)).data,getDashboard:async()=>(await r.get("/pickups/chw/stats")).data,updateAvailability:async e=>(await r.put("/chws/availability",{availability:e})).data,getPickups:async(e={})=>(await r.get("/pickups/chw",{params:e})).data},Me={getAll:async()=>(await r.get("/education")).data,getById:async e=>(await r.get(`/education/${e}`)).data,create:async e=>(await r.post("/education",e)).data,update:async(e,t)=>(await r.put(`/education/${e}`,t)).data,delete:async e=>(await r.delete(`/education/${e}`)).data},Ve={getStats:async()=>(await r.get("/admin/stats")).data,getUsers:async(e={})=>(await r.get("/admin/users",{params:e})).data,getPendingUsers:async()=>(await r.get("/admin/users/pending")).data,approveUser:async e=>(await r.put(`/admin/users/${e}/approve`)).data,rejectUser:async e=>(await r.put(`/admin/users/${e}/reject`)).data,updateUser:async(e,t)=>(await r.put(`/admin/users/${e}`,t)).data,deleteUser:async e=>(await r.delete(`/admin/users/${e}`)).data,activateUser:async e=>(await r.put(`/admin/users/${e}/activate`)).data,deactivateUser:async e=>(await r.put(`/admin/users/${e}/deactivate`)).data,getDisposals:async(e={})=>(await r.get("/admin/disposals",{params:e})).data,getDisposalById:async e=>(await r.get(`/admin/disposals/${e}`)).data,getPickups:async(e={})=>(await r.get("/admin/pickups",{params:e})).data},ne="data:image/svg+xml,%3csvg%20width='120'%20height='120'%20viewBox='0%200%20120%20120'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='120'%20height='120'%20rx='24'%20fill='%230B6FA7'/%3e%3cpath%20d='M60%2025C43.4315%2025%2030%2038.4315%2030%2055V65C30%2081.5685%2043.4315%2095%2060%2095C76.5685%2095%2090%2081.5685%2090%2065V55C90%2038.4315%2076.5685%2025%2060%2025Z'%20fill='%232E8B57'/%3e%3cpath%20d='M50%2045C50%2041.6863%2052.6863%2039%2056%2039H64C67.3137%2039%2070%2041.6863%2070%2045V75C70%2078.3137%2067.3137%2081%2064%2081H56C52.6863%2081%2050%2078.3137%2050%2075V45Z'%20fill='white'/%3e%3crect%20x='45'%20y='55'%20width='30'%20height='6'%20rx='3'%20fill='%2319A3FF'/%3e%3ccircle%20cx='60'%20cy='47'%20r='3'%20fill='%2319A3FF'/%3e%3ccircle%20cx='60'%20cy='73'%20r='3'%20fill='%2319A3FF'/%3e%3cpath%20d='M40%2060L48%2052M80%2060L72%2052'%20stroke='white'%20stroke-width='4'%20stroke-linecap='round'/%3e%3c/svg%3e";function oe({onMenuClick:e}){const t=O(),[n,a]=i.useState(!1),o=JSON.parse(localStorage.getItem("user")||"null"),d=()=>{re.logout(),t("/login")},p={user:"Household",chw:"CHW",admin:"Admin"};return o?s.jsx("nav",{className:"sticky top-0 z-40 bg-surface-light dark:bg-surface-dark border-b border-gray-200 dark:border-gray-700 shadow-sm",children:s.jsxs("div",{className:"px-4 py-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-cta min-w-[44px] min-h-[44px]","aria-label":"Toggle menu",title:"Toggle sidebar",children:s.jsx(U,{className:"w-6 h-6"})}),s.jsxs(P,{to:"/",className:"flex items-center gap-3 group",children:[s.jsx("img",{src:ne,alt:"UmutiSafe Logo",className:"w-10 h-10"}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-xl font-bold text-primary-blue dark:text-accent-cta group-hover:text-primary-green transition-colors",children:"UmutiSafe"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Safe Medicine Disposal"})]})]}),s.jsx("div",{className:"hidden md:flex flex-1 max-w-lg"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 min-h-[44px]",children:s.jsx("span",{className:"text-sm font-medium",children:p[o.role]})}),s.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-accent-cta min-w-[44px] min-h-[44px]","aria-label":"Notifications",children:[s.jsx(z,{className:"w-5 h-5"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-warning rounded-full"})]}),s.jsx(te,{}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>a(!n),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-accent-cta min-h-[44px]","aria-label":"User menu","aria-expanded":n,children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-blue text-white flex items-center justify-center font-semibold text-sm",children:o.name.charAt(0).toUpperCase()}),s.jsx(M,{className:"w-4 h-4 hidden sm:block"})]}),n&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-surface-light dark:bg-surface-dark rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"font-semibold text-sm",children:o.name}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.email})]}),s.jsxs(P,{to:`/${o.role}/profile`,className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm",onClick:()=>a(!1),children:[s.jsx(y,{className:"w-4 h-4"}),"Profile"]}),s.jsxs("button",{onClick:d,className:"flex items-center gap-2 w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm text-red-600 dark:text-red-400",children:[s.jsx(V,{className:"w-4 h-4"}),"Logout"]})]})]})]})]}),s.jsx("div",{className:"md:hidden mt-3"})]})}):null}function ie({isOpen:e,onClose:t}){const n=N(),[a,o]=i.useState("user");i.useEffect(()=>{const g=JSON.parse(localStorage.getItem("user")||"null");o(g?.role||"user")},[n]);const x=a==="user"?[{to:"/user",icon:_,label:"Dashboard",end:!0},{to:"/user/add-disposal",icon:H,label:"New Disposal"},{to:"/user/history",icon:B,label:"History"},{to:"/user/chw-interaction",icon:b,label:"CHW Pickup"},{to:"/user/education",icon:j,label:"Education"},{to:"/user/profile",icon:y,label:"Profile"}]:a==="chw"?[{to:"/chw",icon:_,label:"Dashboard",end:!0},{to:"/chw/pickup-requests",icon:q,label:"Pickup Requests"},{to:"/chw/profile",icon:y,label:"Profile"}]:[{to:"/admin",icon:_,label:"Dashboard",end:!0},{to:"/admin/disposals",icon:W,label:"Disposals"},{to:"/admin/users",icon:b,label:"Manage Users"},{to:"/admin/medicines",icon:J,label:"Medicines Registry"},{to:"/admin/education",icon:G,label:"Education Tips"},{to:"/admin/reports",icon:Z,label:"System Reports"}],m=75;return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed left-0 right-0 bg-black bg-opacity-50 z-30",onClick:t,"aria-hidden":"true",style:{top:`${m}px`,height:`calc(100vh - ${m}px)`}}),s.jsxs("aside",{className:`fixed left-0 bg-surface-light dark:bg-surface-dark border-r border-gray-200 dark:border-gray-700 transition-transform duration-300 ${e?"translate-x-0":"-translate-x-full"} w-64 flex flex-col z-30`,style:{top:`${m}px`,height:`calc(100vh - ${m}px)`},children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Menu"}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-cta","aria-label":"Close menu",title:"Close sidebar",children:s.jsx(F,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4","aria-label":"Main navigation",children:s.jsx("ul",{className:"space-y-2",children:x.map(g=>s.jsx("li",{children:s.jsx(S,{to:g.to,end:g.end,onClick:()=>t(),className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 min-h-[44px] ${h?"bg-primary-blue text-white dark:bg-accent-cta":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"} focus:outline-none focus:ring-2 focus:ring-accent-cta`,children:({isActive:h})=>s.jsxs(s.Fragment,{children:[s.jsx(g.icon,{className:`w-5 h-5 ${h?"text-white":""}`,"aria-hidden":"true"}),s.jsx("span",{className:"font-medium",children:g.label})]})})},g.to))})}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"card bg-primary-blue bg-opacity-10 dark:bg-accent-cta dark:bg-opacity-10",children:[s.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Need Help?"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:"Contact your local CHW or call the helpline"}),s.jsx("a",{href:"tel:+250788000000",className:"text-xs text-primary-blue dark:text-accent-cta hover:underline font-medium",children:"+250 788 000 000"})]})})]})]})}function ce(){const e=N(),[t,n]=i.useState("user");i.useEffect(()=>{const u=JSON.parse(localStorage.getItem("user")||"null");n(u?.role||"user")},[e]);const p=t==="user"?[{to:"/user",icon:_,label:"Home"},{to:"/user/chw-interaction",icon:b,label:"CHW"},{to:"/user/education",icon:j,label:"Guide"},{to:"/user/profile",icon:y,label:"Profile"}]:t==="chw"?[{to:"/chw",icon:_,label:"Home"},{to:"/chw/pickup-requests",icon:b,label:"Pickups"},{to:"/chw/profile",icon:y,label:"Profile"}]:[{to:"/admin",icon:_,label:"Home"},{to:"/admin/users",icon:b,label:"Users"},{to:"/admin/medicines",icon:j,label:"Meds"},{to:"/admin/reports",icon:y,label:"Reports"}];return s.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-surface-light dark:bg-surface-dark border-t border-gray-200 dark:border-gray-700 shadow-lg","aria-label":"Bottom navigation",children:s.jsx("ul",{className:"flex justify-around items-center h-16",children:p.map(u=>s.jsx("li",{className:"flex-1",children:s.jsx(S,{to:u.to,className:({isActive:x})=>`flex flex-col items-center justify-center h-full gap-1 transition-colors min-h-[44px] min-w-[44px] ${x?"text-primary-blue dark:text-accent-cta":"text-gray-600 dark:text-gray-400"}`,children:({isActive:x})=>s.jsxs(s.Fragment,{children:[s.jsx(u.icon,{className:`w-6 h-6 ${x?"text-primary-blue dark:text-accent-cta":""}`,"aria-hidden":"true"}),s.jsx("span",{className:"text-xs font-medium",children:u.label})]})})},u.to))})})}const le="modulepreload",de=function(e){return"/"+e},I={},l=function(t,n,a){let o=Promise.resolve();if(n&&n.length>0){let x=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),u=p?.nonce||p?.getAttribute("nonce");o=x(n.map(m=>{if(m=de(m),m in I)return;I[m]=!0;const g=m.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const f=document.createElement("link");if(f.rel=g?"stylesheet":le,g||(f.as="script"),f.crossOrigin="",f.href=m,u&&f.setAttribute("nonce",u),document.head.appendChild(f),g)return new Promise(($,T)=>{f.addEventListener("load",$),f.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function d(p){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=p,window.dispatchEvent(u),!u.defaultPrevented)throw p}return o.then(p=>{for(const u of p||[])u.status==="rejected"&&d(u.reason);return t().catch(d)})};function w({allowedRoles:e=[]}){const t=localStorage.getItem("token"),n=JSON.parse(localStorage.getItem("user")||"null");return!t||!n?s.jsx(k,{to:"/login",replace:!0}):e.length>0&&!e.includes(n.role)?s.jsx(k,{to:`/${n.role}`,replace:!0}):s.jsx(K,{})}const ue=i.lazy(()=>l(()=>import("./Login-z9rC6yzj-1761988251229.js"),__vite__mapDeps([0,1,2,3,4]))),pe=i.lazy(()=>l(()=>import("./Register-BG9EQODk-1761988251229.js"),__vite__mapDeps([5,1,2,3,4]))),me=i.lazy(()=>l(()=>import("./NotFound-C-FPk5SL-1761988251229.js"),__vite__mapDeps([6,1,2]))),ge=i.lazy(()=>l(()=>import("./Dashboard-DW3kPMax-1761988251229.js"),__vite__mapDeps([7,1,2,8,4]))),he=i.lazy(()=>l(()=>import("./AddDisposal-BMfRFZjK-1761988251229.js"),__vite__mapDeps([9,1,2,3,10,11,4]))),fe=i.lazy(()=>l(()=>import("./DisposalHistory-B6kwLofd-1761988251229.js"),__vite__mapDeps([12,1,2,13,14,4]))),xe=i.lazy(()=>l(()=>import("./EducationTips-C2h2rDIz-1761988251229.js"),__vite__mapDeps([15,1,2,4]))),ye=i.lazy(()=>l(()=>import("./CHWInteraction-BSLCXVNV-1761988251229.js"),__vite__mapDeps([16,1,2,3,17,10,13,11,4]))),_e=i.lazy(()=>l(()=>import("./Profile-2cz3bR0E-1761988251229.js"),__vite__mapDeps([18,1,2,3,4]))),be=i.lazy(()=>l(()=>import("./CHWDashboard-DdW5z9Ix-1761988251229.js"),__vite__mapDeps([19,1,2,8,11,4]))),we=i.lazy(()=>l(()=>import("./PickupRequests-BhTE9pRk-1761988251229.js"),__vite__mapDeps([20,1,2,13,14,10,17,11,4]))),je=i.lazy(()=>l(()=>import("./CHWProfile-Bynpkto7-1761988251229.js"),__vite__mapDeps([21,1,2,3,4]))),ke=i.lazy(()=>l(()=>import("./AdminDashboard-D5P3DKY2-1761988251229.js"),__vite__mapDeps([22,1,2,8,23,4]))),ve=i.lazy(()=>l(()=>import("./ManageUsers-BwKFOgNY-1761988251229.js"),__vite__mapDeps([24,1,2,13,14,3,10,4]))),Ne=i.lazy(()=>l(()=>import("./MedicinesRegistry-w3-oXm31-1761988251229.js"),__vite__mapDeps([25,1,2,13,14,3,10,17,4]))),Ee=i.lazy(()=>l(()=>import("./EducationTips-DNcftuZQ-1761988251229.js"),__vite__mapDeps([26,1,2,13,14,3,10,17,4]))),Pe=i.lazy(()=>l(()=>import("./SystemReports-DboN-nBY-1761988251229.js"),__vite__mapDeps([27,1,2,3]))),Le=i.lazy(()=>l(()=>import("./AdminDisposalsList-C03UCo-s-1761988251229.js"),__vite__mapDeps([28,1,2,13,4]))),Ie=i.lazy(()=>l(()=>import("./AdminDisposalInfo-BuK7GjQG-1761988251229.js"),__vite__mapDeps([29,1,2,4]))),Ae=i.lazy(()=>l(()=>import("./AdminProfile-DGhdNpaZ-1761988251229.js"),__vite__mapDeps([30,1,2,4])));function A(){const e=JSON.parse(localStorage.getItem("user")||"null"),t=!!localStorage.getItem("token");return s.jsx(i.Suspense,{fallback:s.jsx("div",{className:"p-6",children:"Loading..."}),children:s.jsxs(Q,{children:[s.jsx(c,{path:"/login",element:s.jsx(ue,{})}),s.jsx(c,{path:"/register",element:s.jsx(pe,{})}),s.jsx(c,{path:"/",element:s.jsx(k,{to:t&&e?`/${e.role}`:"/login",replace:!0})}),s.jsxs(c,{path:"/user",element:s.jsx(w,{allowedRoles:["user"]}),children:[s.jsx(c,{index:!0,element:s.jsx(ge,{})}),s.jsx(c,{path:"add-disposal",element:s.jsx(he,{})}),s.jsx(c,{path:"history",element:s.jsx(fe,{})}),s.jsx(c,{path:"education",element:s.jsx(xe,{})}),s.jsx(c,{path:"chw-interaction",element:s.jsx(ye,{})}),s.jsx(c,{path:"profile",element:s.jsx(_e,{})})]}),s.jsxs(c,{path:"/chw",element:s.jsx(w,{allowedRoles:["chw"]}),children:[s.jsx(c,{index:!0,element:s.jsx(be,{})}),s.jsx(c,{path:"pickup-requests",element:s.jsx(we,{})}),s.jsx(c,{path:"profile",element:s.jsx(je,{})})]}),s.jsxs(c,{path:"/admin",element:s.jsx(w,{allowedRoles:["admin"]}),children:[s.jsx(c,{index:!0,element:s.jsx(ke,{})}),s.jsx(c,{path:"profile",element:s.jsx(Ae,{})}),s.jsx(c,{path:"disposals",element:s.jsx(Le,{})}),s.jsx(c,{path:"disposals/:id",element:s.jsx(Ie,{})}),s.jsx(c,{path:"users",element:s.jsx(ve,{})}),s.jsx(c,{path:"medicines",element:s.jsx(Ne,{})}),s.jsx(c,{path:"education",element:s.jsx(Ee,{})}),s.jsx(c,{path:"reports",element:s.jsx(Pe,{})})]}),s.jsx(c,{path:"*",element:s.jsx(me,{})})]})})}function Se(){const[e,t]=i.useState(!1),n=N();i.useEffect(()=>{se()},[]);const a=n.pathname==="/login",o=n.pathname==="/register";return a||o?s.jsx(A,{}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(oe,{onMenuClick:()=>t(!e)}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(ie,{isOpen:e,onClose:()=>t(!1)}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx(A,{})})]}),s.jsx(ce,{})]})}function Re(){return s.jsx(X,{children:s.jsx(Se,{})})}Y.createRoot(document.getElementById("root")).render(s.jsx(i.StrictMode,{children:s.jsx(Re,{})}));export{re as a,Ve as b,ze as c,Oe as d,Me as e,r as f,ne as l,Ce as m,Ue as p};
